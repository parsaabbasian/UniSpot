services:
  # Backend API Service
  - type: web
    name: unispot-api
    runtime: go
    rootDir: backend
    buildCommand: go build -o server ./cmd/api/main.go
    startCommand: ./server
    plan: free
    autoDeploy: true
    envVars:
      - key: GIN_MODE
        value: release
      - key: PORT
        value: 8080
      - key: DATABASE_URL
        sync: false # You must set this in the Render Dashboard after importing the blueprint
      - key: GO_VERSION
        value: 1.22.0

  # Optional: Frontend Static Site (Only if you want to deploy frontend via Render)
  # - type: static
  #   name: unispot-frontend
  #   runtime: node
  #   rootDir: frontend
  #   buildCommand: npm install && npm run build
  #   staticPublishPath: dist
  #   envVars:
  #     - key: VITE_API_URL
  #       fromService:
  #         type: web
  #         name: unispot-api
  #         property: host
